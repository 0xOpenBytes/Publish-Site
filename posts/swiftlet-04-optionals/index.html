<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="0xOpenBytes"/><link rel="canonical" href="https://openbytes.dev/posts/swiftlet-04-optionals"/><meta name="twitter:url" content="https://openbytes.dev/posts/swiftlet-04-optionals"/><meta name="og:url" content="https://openbytes.dev/posts/swiftlet-04-optionals"/><title>SwiftLet #04: Optionals | 0xOpenBytes</title><meta name="twitter:title" content="SwiftLet #04: Optionals | 0xOpenBytes"/><meta name="og:title" content="SwiftLet #04: Optionals | 0xOpenBytes"/><meta name="description" content="SwiftLet #04"/><meta name="twitter:description" content="SwiftLet #04"/><meta name="og:description" content="SwiftLet #04"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to 0xOpenBytes"/><meta name="twitter:image" content="https://openbytes.dev/https://avatars.githubusercontent.com/u/92551192%3Fs=200&v=4"/><meta name="og:image" content="https://openbytes.dev/https://avatars.githubusercontent.com/u/92551192%3Fs=200&v=4"/></head><body class="item-page"><header><div class="wrapper"><a href="/" class="site-name">0xOpenBytes</a><nav><ul><li><a href="/posts" class="selected">Posts</a></li><li><a href="/about">About</a></li><li><a href="/projects">Projects</a></li><li><a href="/github">Github</a></li></ul></nav></div></header><div class="wrapper"><article><div class="content"><h1>SwiftLet #04: Optionals</h1><p><em>What if a variable shouldn’t have a value?</em></p><p>Great question! Luckily Swift has what are known as Optionals. Optionals <strong>optionally</strong> have a value! Let’s say we have a variable that is the name of our favorite ice cream.</p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String</span>
</code></pre><p>Well let’s say we have a friend that hates ice cream, they don’t even have a least favorite flavor! You may think, wait can’t we just put nothing as the string?</p><pre id=pre-swift data-language="swift" "><code>favoriteIceCreamFlavor = <span class="hljs-string">""</span>
</code></pre><p>Sure! Although this could cause issues, why isn’t the <code>favoriteIceCreamFlavor</code> just <strong>n/a</strong>? In Swift <code>nil</code> is the value denoted to mean nothing or does not exist.</p><p>This is when we want to use optionals! Now we can print out the <code>favoriteIceCreamFlavor</code> and it will print out <code>nil</code>.</p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String?</span>

<span class="hljs-built_in">print</span>(favoriteIceCreamFlavor) <span class="hljs-comment">// nil</span>
</code></pre><p>Although now, when we set the <code>favoriteIceCreamFlavor</code> to some flavor and print it out we get some different output than if we used just a <code>String</code> and not an <code>String?</code> (optional string).</p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String?</span>

favoriteIceCreamFlavor = <span class="hljs-string">"Coffee"</span>

<span class="hljs-built_in">print</span>(favoriteIceCreamFlavor) <span class="hljs-comment">// Optional("Coffee")</span>
</code></pre><p>For some reason we are getting our favorite ice cream flavor, but it is being wrapped with <code>Optional</code>. In Swift Optionals help us deal with variables that may not always have a value. If we wanted to print out <code>favoriteIceCreamFlavor</code> as a <code>String</code> and not a <code>String?</code>, we just need to unwrap the value! Swift has a few different ways to unwrap an Optional, the first we will discuss is the one you should <strong>almost never use</strong>!</p><p><strong>Force Unwrap</strong> When you force unwrap an Optional in Swift it will return the unwrapped value or crash your program! <strong>Be careful!</strong></p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String?</span>

favoriteIceCreamFlavor = <span class="hljs-string">"Coffee"</span>

<span class="hljs-built_in">print</span>(favoriteIceCreamFlavor!) <span class="hljs-comment">// Coffee</span>
</code></pre><p>If we didn’t have a <code>favoriteIceCreamFlavor</code> set our app would crash and give us an error.</p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String?</span>

<span class="hljs-built_in">print</span>(favoriteIceCreamFlavor!)
<span class="hljs-comment">// Fatal error: Unexpectedly found nil while unwrapping an Optional value</span>
<span class="hljs-comment">// Terminated due to signal: ILLEGAL INSTRUCTION (4)</span>
</code></pre><p><strong>Default Unwrap</strong> Instead of force unwrapping, there is always the option to provide a default value if the variable is <code>nil</code>!</p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String?</span>

favoriteIceCreamFlavor = <span class="hljs-string">"Coffee"</span>

<span class="hljs-built_in">print</span>(favoriteIceCreamFlavor ?? <span class="hljs-string">"N/A"</span>) <span class="hljs-comment">// Coffee</span>
</code></pre><p>If the variable is <code>nil</code> it will just default to the value we provided.</p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String?</span>

<span class="hljs-built_in">print</span>(favoriteIceCreamFlavor ?? <span class="hljs-string">"N/A"</span>) <span class="hljs-comment">// N/A</span>
</code></pre><p><strong>Conditionally Unwrap</strong> Swift also can unwrap Optionals using an <code>if</code> or <code>guard</code> statement. Simply initialize a new variable inside the conditional statement.</p><p><strong>if let</strong></p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String?</span> = <span class="hljs-type">Bool</span>.random() ? <span class="hljs-string">"Coffee"</span> : <span class="hljs-literal">nil</span>

<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> unwrappedFavoriteIceCreamFlavor = favoriteIceCreamFlavor {
    <span class="hljs-built_in">print</span>(unwrappedFavoriteIceCreamFlavor)
} <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">print</span>(unwrappedFavoriteIceCreamFlavor) <span class="hljs-comment">// Error: Cannot find 'unwrappedFavoriteIceCreamFlavor' in scope   </span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"None!"</span>)
}
</code></pre><p>This example will randomly set the value of <code>favoriteIceCreamFlavor</code> to “Coffee“ or <code>nil</code>. Then it will only print the ice cream flavor if it is not <code>nil</code>. Otherwise it will just print “None!”. Notice that <code>unwrappedFavoriteIceCreamFlavor</code> is a new variable and is only usage within the scope of the statement it belongs to.</p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String?</span> = <span class="hljs-type">Bool</span>.random() ? <span class="hljs-string">"Coffee"</span> : <span class="hljs-literal">nil</span>

<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> unwrappedFavoriteIceCreamFlavor = favoriteIceCreamFlavor,
    unwrappedFavoriteIceCreamFlavor == <span class="hljs-string">"Coffee"</span> {
    <span class="hljs-built_in">print</span>(unwrappedFavoriteIceCreamFlavor)
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">var</span> unwrappedFavoriteIceCreamFlavor = favoriteIceCreamFlavor {
    unwrappedFavoriteIceCreamFlavor = <span class="hljs-string">"Coffee"</span>
    <span class="hljs-built_in">print</span>(unwrappedFavoriteIceCreamFlavor)
} <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"None!"</span>)
}
</code></pre><p>You can even specify that the locally unwrapped variable is mutable! Which doesn’t change the original <code>favoriteIceCreamFlavor</code> if that variable is a Value Type. If the variable is a Reference Type, it can modify any variable that is a <code>var</code> and you have access to.</p><p><strong>guard let</strong></p><pre id=pre-swift data-language="swift" "><code><span class="hljs-keyword">var</span> favoriteIceCreamFlavor: <span class="hljs-type">String?</span> = <span class="hljs-type">Bool</span>.random() ? <span class="hljs-string">"Coffee"</span> : <span class="hljs-literal">nil</span>

<span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> unwrappedFavoriteIceCreamFlavor = favoriteIceCreamFlavor <span class="hljs-keyword">else</span> {
<span class="hljs-comment">//    print(unwrappedFavoriteIceCreamFlavor) // Error: Cannot find 'unwrappedFavoriteIceCreamFlavor' in scope   </span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"None!"</span>)
    <span class="hljs-keyword">return</span>
}

<span class="hljs-built_in">print</span>(unwrappedFavoriteIceCreamFlavor)
</code></pre></div><span>Tagged with: </span><ul class="tag-list"><li class="tag" id="tag-swift"><a href="/tags/swift">swift</a></li><li class="tag" id="tag-swift"><a href="/tags/swiftlet">swiftlet</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>